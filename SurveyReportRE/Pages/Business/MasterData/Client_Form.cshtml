@page "{pageNum:int?}"
@model Client_FormModel
@{

}
<script>
    $(function () {
        var _id = @Convert.ToInt32(ViewData["Id"]);
        var _formConfig = new Object();
        _formConfig.tabName = '@HttpContext.Request.Query["Caption"].ToString()';
        _formConfig.originModelName = "@Client_FormModel.ModelName";
        _formConfig.formElementName = "@Client_FormModel.ModelName";
        _formConfig.colCount = 1;
        _formConfig.schemeBasedOn = `@(Client_FormModel.SchemeModelName)`;
        var _childGridConfig = [];
        _childGridConfig.push({
            colSpan: 2,
            title: 'Detail',
            filterRefId: _id,
            filterRefField: "clientId",
            modelName: "Location",
            editing: {
                mode: "batch",
                allowAdding: true,
                allowUpdating: true,
                allowDeleting: true
            },
            appendView: `appendChildGridViewInsideAsync(childItem, itemElement, 'LocationGridOption')
                                            .then(grid => {
                                            })
                                            .catch(error => {
                                                console.error("Lỗi khi tải dữ liệu:", error);
                                            });`
        });
        var mFormOption = new MFormOption(_formConfig, _childGridConfig);
        new ClientForm(_id, _childGridConfig, _formConfig, mFormOption);
    });
</script>
<div id="form_@(Client_FormModel.ModelName)_@(Convert.ToInt32(ViewData["Id"]))"></div>

