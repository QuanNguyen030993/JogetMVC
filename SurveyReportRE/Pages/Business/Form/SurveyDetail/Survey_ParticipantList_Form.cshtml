@page "{pageNum:int?}/{jsonConfig?}"
@model Survey_ParticipantList_FormModel
@{
    Layout = null;
}
<script>
    $(function () {
        var _id = @Convert.ToInt32(ViewData["Id"]);
        var _fkId = @Convert.ToInt32(ViewData["FKId"]);
        var _jsonConfig = '@Html.Raw(ViewData["JsonConfig"])'; 
        var _surveyData = new MFormOption(); 
        if (_jsonConfig) _surveyData = JSON.parse(_jsonConfig);
        var _formConfig = new MFormOption();
        // _formConfig.cloneUrl = '/Business/Form/SurveyDetail/Survey_ParticipantList_Form/' + _id;
        // _formConfig.tabCode = 'Survey_ParticipantList_Form';
        // _formConfig.tabName = "";
        _formConfig.allowFormActionButton = false;
        _formConfig.originModelName = "@Survey_ParticipantList_FormModel.ModelName";
        // _formConfig.schemeBasedOn = "@Survey_ParticipantList_FormModel.FKModelName";
        _formConfig.formElementName = "Survey_ParticipantList_Form";
        _formConfig.colCount = 1;

        _formConfig.refFieldId = _fkId;
        _formConfig.refFieldName = `@(Survey_ParticipantList_FormModel.FKModelName)Id`;
        _formConfig.sameRefKeyAsId = true;
        _formConfig.outlineForm = { isUse: true, surveyTypeId: _surveyData.surveyTypeId, isOutlineChecked: false };
        _formConfig.isReadOnly = _surveyData.isReadOnly;
        if (_surveyData.clientName) _formConfig.clientName = _surveyData.clientName;
        if (_surveyData.draftGuid) _formConfig.draftGuid = _surveyData.draftGuid;
        var form = new ParticipantListForm(_id, null, _formConfig, _formConfig);

    });
</script>
<div>
    <div id="form_Survey_ParticipantList_Form_@Convert.ToInt32(ViewData["FKId"])">
    </div>
</div>

